<!DOCTYPE html>
<head lang="en">
	<meta charset="UTF-8">
	<meta name="viewpoint" content="width=device-width, initial-scale=1.0">
	<title>Login system</title>
<style>
body {
	display: flex;
	overflow-x: hidden;
	margin: 0;
	height: 100vh;
	justify-content: center;
	align-items: center;
	line-height; 1.6;
	padding: 20px;
	font-family: sans-serif;
	background: linear-gradient(130deg, white, red, blue, black, gold);
}
.login-system {
	box-sizing: border-box;
	display: none;
	position: relative;
	text-align: center;
	padding: 20px;
	background-color: lightgray;
	width: 50%;
	border: none;
	border-radius: 10px;
}
.back-arrow {
	padding: 10px;
	width: 30px;
	height: 30px;
	display: inline-block;
	top: 20px;
	left: 20px;
	border-radius: 50%;
	text-align: center;
	position: absolute;
	background-color: blue;
	text-decoration: none;
	font-size: 24px;
	color: red;
}
.back-arrow:hover {
	background-color: darkblue;
}
h2 {
	padding: 20px;
	text-align: center;
	background-color: white;
	color: black;
	border-radius: 10px;
}
.login-system label {
	background-color: black;
	color: white;
	padding: 10px;
	width: 20%;
	box-sizing: border-box;
	border-radius: 10px;
	font-weight: bold;
}
.login-system input {
	width: 40%;
	box-sizing: border-box;
	padding: 10px;
	border-radius: 10px;
	background-color: white;
	color: black;
}

.active {
	display: block;
}
.social-login {
	justify-content: space-between;
	padding: 10px;
	border-radius: 10px;
	background-color: black;
}
.google {
	padding: 20px;
	width: 10px;
	background-color: transparent;
	cursor: pointer;
	position: relative;
	right: 33px;
	border-color: transparent;
}
.facebook {
	padding: 20px;
	width: 10px;
	background-color: transparent;
	cursor: pointer;
	position: relative;
	left: 33px;
	border-color: transparent;
}
p {
	text-align: center;
	font-size: 15px;
	background-color: green;
	color: white;
	text-weight: bold;
	border-radius: 10px;
	padding: 5px;
}
.social-login img {
	width: 24px;
	height: 24px;
	padding: 10px;
	border-radius: 50%;
}
.register-reset {
	justify-content: space-between;
	padding: 10px;
}
.register-reset a {
	text-decoration: none;
	padding: 10px;
	justify-content: space-between;
}
.login{
	background-color: blue;
	color: white;
	display: block;
	border-radius: 10px;
	margin: 0 auto;
	width: 140px;
	top: 20px;
	padding: 10px;
}
.login:hover {
	cursor: pointer;
	background-color: darkblue;
}
			#loginForm {
				background: linear-gradient(135deg, blue, black, yellow, red);
				justify-content: center;
				padding: 20px;
				width: 93%;
				margin: 0 auto;
				border-radius: 10px;
			}
			.reset .submit {
				padding: 10px;
				border-radius: 10px;
				width: 100px;
			}
			#resetForm {
				background: radial-gradient(green, black, yellow, blue,red);
				padding: 10px;
				width: 98%;
				border-radius: 10px;
			}
			#resetForm button {
				background-color: lightblue;
				color: black;
				font-weight: bold;
				width: 30%;
			}
			#resetForm button:hover {
				background-color: blue;
				color: black;
			}
			#resetForm input {
				width: 80%;
			}
			#registerForm button {
				padding: 20px;
				width: 100px;
				height: 50px;
				text-align: center;
				font-weight: bold;
				justify-content: space-between;
				border-radius: 10px;
				background-color: blue;
				color: white;
			}
			#registerForm button:hover {
				background-color: darkblue;
			}
			#registerForm {
				justify-content: center;
				background: radial-gradient(lightgreen, black, red, yellow, lightblue);
				border-radius: 10px;
			}
			.register {
				justify-content: space-between;
			}
			#verificationForm {
				background: radial-gradient(green, black,white,red);
			}
			#verificationForm input {
				width: 80%;
			}
			 #verificationForm button {
                                padding: 20px;
                                width: 100px;
                                height: 50px;
                                text-align: center;
                                font-weight: bold;
                                justify-content: center;
                                border-radius: 10px;
                                background-color: blue;
                                color: white;
                        }
			 .error {
				 color: red;
				 font-size: 12px;
			 }


</style>
</head>
<body>
	<!-- Login form -->
	<div id="login-form" class="login-system active">
		<h2>Login Here!</h2>
			<form id="loginForm" action="login-handler.php" method="POST" enctype="multipart/form-data">
			<label for="firstname">First Name:</label>
			<input type="text" name="firstname" id="firstname" placeholder="Enter first name here"required><br><br>
			<label for="lastname">Last Name:</label>
			<input type="text" name="text" id="text" placeholder="Enter last name here"required><br><br>
			<label for="email">Email:</label>
			<input type="email" name="email" id="email" placeholder="dev.alex@gmail.com"required><br><br>
			<label for="password">Password:</label>
			<input type="password" name="password" id="password" placeholder="1jk2ubkvÃ§#" required><br><br>
			<button type="submit" class="login">Login</button>
		</form>
		<div class="register-reset">
		<a href="#" onclick="showForm('register')">Create account</a>
		<a href="#" onclick="showForm('reset')">Forgot password?</a>
		</div>
		<div class="social-login">
			<p>Or Login with:</p>
			<button type="button" class="google">
				<img src="https://img.icons8.com/color/24/000000/google-logo.png" alt="google">
			</button>
			<button type="button" class="facebook">
				<img src="https://img.icons8.com/color/24/000000/facebook-new.png" alt="google">
			</button>
		</div>
	</div>
	<!-- Registration form -->
	<div id="register-form" class="login-system">
		<div class="back-arrow">
			<a href="#" onclick="showForm('login')">&larr;</a>
		</div>
		<h2>Register here!</h2>
		<form id="registerForm" action="registration-handler.php" method="POST" enctype="multipart/form-data">
			<label for="firstname">First Name:</label>
			<input type="text" name="firstname" id="firstname" placeholder="Enter your first Name" required><br><br>
			<label for="lastname">Last Name:</label>
			<input type="text" name="lastname" id="lastname" placeholder="Enter your last Name" required><br><br>
			<label for="email">Email:</label>
			<input type="email" name="email" id="email" placeholder="dev.alex@gmail.com" required><br><br>
			<label for="password">Password:</label>
			<input type="password" name="password" id="pPassword" placeholder="Enter your password" required><br>
			<small class="error" id="passwordError"></small><br><br>
			<label for="password">Confirm Password:</label>
			<input type="password" name="password" id="conPassword" placeholder="Confirm your password" required><br>
			<small class="error" id="confirmPasswordError"></small><br><br>
			<div class="register">
						<button type="submit">Register</button>
				<button type="submit">Next</button>
			</div>
		</form>
			<a href="#" onclick="showForm('login')">Back to Login</a>

	</div>
	<!-- Forgot password -->
	<div id="reset-form" class="login-system">
		<div class="back-arrow">
			<a href="#" onclick="showForm('login')">&larr;</a>
		</div>
		<h2>Reset your password!</h2>
		<form id="resetForm" action="reset-handler.php" method="POST" enctype="multipart/form-data">
			<input type="password" id="nPassword" name="newPassword" placeholder="Enter your new password" required><br>
			<small class="error" id="passwordError"></small><br><br>
			<input type="password" id="cPassword" name="confirmPassword" placeholder="Confirm your new password" required><br>
			<small class="error" id="confirmPasswordError"></small><br><br>
			<input type="email" id="email" name="email" placeholder="Enter Email where confirmation code will be sent" required>
			<div class="reset"><br><br>
							<button type="submit" class="submit">Reset</button>
			</div>
		</form>
		<a href="#" onclick="showForm('login')">Back to Login</a>
	</div>
	<!-- verification form/page -->
	<div id="verification-form" class="login-system">
		<div class="back-arrow">
			<a href="#" onclick="showForm('login')">&larr;</a>
		</div>
		<form id="verificationForm" action="verify.php" method="POST">
			<label for="code">Enter the code sent to your email:</label><br><br>
			<input type="text" name="code" required><br><br>
			<button type="submit">Verify</button><br><br>
		</form>
	</div>
	<script>
		document.getElementById('registerForm').addEventListener('submit', function (event) {
			event.preventDefault();
			showForm('verify');
		});

		function showForm(formName) {
			//hide all forms
			document.querySelectorAll('.login-system').forEach(form => {
				form.classList.remove('active');
			});
			//show selected form
			if (formName === 'login') {
				document.getElementById('login-form').classList.add('active');
			} else if (formName === 'register') {
				document.getElementById('register-form').classList.add('active');
			} else if (formName === 'reset') {
				document.getElementById('reset-form').classList.add('active');
			} else if (formName === 'verify') {
				document.getElementById('verification-form').classList.add('active');
			}
		}
				document.getElementById('registerForm').addEventListener('submit', function(event) {
			const password = document.getElementById('pPassword').value;

			const confirmPassword = document.getElementById('conPassword').value;
			const passwordError = document.getElementById('passwordError');
			const confirmPasswordError = document.getElementById('confirmPasswordError');
			//Regular Expression for strong password
			const strongPasswordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%&*?])[A-Za-z\d@$!%*?&]{8,}$/;
			//clear any previous error messages
			passwordError.textContent = '';
			confirmPasswordError.textContent = '';
			//check of password is strong enough
			if (!strongPasswordRegex.test(password)) {
				passwordError.textContent = "Password must be atleast 8 characters, include one uppercase, one lowercase, one number, and one special character.";
				event.preventDefault(); //prevent from submission
				return; //if password is not strong
			}
			//check if password and confirm password match
			if (password !== confirmpassword) {
				confirmPasswordError.textContent = "Passwords don't match";
				event.preventDefault();
				return; //if password don't match
			}
						showForm('verify');
			});

	</script>
</body>
</html>
